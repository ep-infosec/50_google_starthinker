{
  "setup":{
    "license":"Licensed under the Apache License, Version 2.0",
    "copyright":"Copyright 2020 Google LLC"
  },
  "tasks":[
    { "dataset":{
      "auth":"service",
      "dataset":{"field":{ "name":"test_run_id", "kind":"string", "description":"The dataset to use for the test.", "prefix":"StarThinker_Test_DT_", "default": "Manual"}},
      "clear":true
    }},
    { "dt": {
      "auth": "user",
      "bucket":{"field":{ "name":"bucket", "kind":"string", "order":1, "default":"", "description":"Name of bucket where DT files are stored."}},
      "paths":{"field":{ "name":"paths", "kind":"string_list", "order":2, "default":[], "description":"List of prefixes to pull specific DT files."}},
      "days":7,
      "hours":0,
      "to": {
        "auth": "service",
        "dataset":{"field":{ "name":"test_run_id", "kind":"string", "description":"The dataset to use for the test.", "prefix":"StarThinker_Test_DT_", "default": "Manual"}}
      }
    }},
    { "test": {
        "auth":"user",
        "bigquery":{
          "dataset":{"field":{ "name":"test_run_id", "kind":"string", "description":"The dataset to use for the test.", "prefix":"StarThinker_Test_DT_", "default": "Manual"}},
          "table":{"field":{ "name":"table", "kind":"string", "order":2, "default":"", "description":"Wildcard table name for checking schema."}},
          "schema":[
            {"mode":"NULLABLE", "name": "Event_Time", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "User_Id", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Advertiser_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Campaign_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Ad_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Rendering_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Creative_Version", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Site_Id_Cm360", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Placement_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Country_Code", "type": "STRING"},
            {"mode":"NULLABLE", "name": "State_Region", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Browser_Platform_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Browser_Platform_Version", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Operating_System_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "U_Value", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Activity_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Tran_Value", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Other_Data", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Ord_Value", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Interaction_Time", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Conversion_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Segment_Value_1", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Floodlight_Configuration", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Event_Type", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Event_Sub_Type", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Auction_Id", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Request_Time", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Advertiser_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Insertion_Order_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Line_Item_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Creative_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Bid_Price_Usd", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Bid_Price_Partner_Currency", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Bid_Price_Advertiser_Currency", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Url", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Site_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Language", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Adx_Page_Categories", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Matching_Targeted_Keywords", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Exchange_Id", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Attributed_Inventory_Source_External_Id", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Attributed_Inventory_Source_Is_Public", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Ad_Position", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Country_Code", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Designated_Market_Area_Dma_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Zip_Postal_Code", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_State_Region_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_City_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Operating_System_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Browser_Platform_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Browser_Timezone_Offset_Minutes", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Net_Speed", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Matching_Targeted_Segments", "type": "STRING"},
            {"mode":"NULLABLE", "name": "Dv360_Isp_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Device_Type", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Mobile_Make_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Mobile_Model_Id", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Total_Conversions", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Total_Revenue", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Cost_Usd", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Cost_Partner_Currency", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Cost_Advertiser_Currency", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Revenue_Usd", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Revenue_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Revenue_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Total_Media_Cost_Usd", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Total_Media_Cost_Partner_Currency", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Total_Media_Cost_Advertiser_Currency", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_1_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_1_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_1_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_2_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_2_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_2_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_3_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_3_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_3_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_4_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_4_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_4_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_5_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_5_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Cpm_Fee_5_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_1_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_1_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_1_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_2_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_2_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_2_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_3_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_3_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_3_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_4_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_4_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_4_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_5_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_5_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Media_Fee_5_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Data_Fees_Usd", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Data_Fees_Partner_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Data_Fees_Advertiser_Currency", "type": "FLOAT"},
            {"mode":"NULLABLE", "name": "Dv360_Billable_Cost_Usd", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Billable_Cost_Partner_Currency", "type": "INTEGER"},
            {"mode":"NULLABLE", "name": "Dv360_Billable_Cost_Advertiser_Currency", "type": "INTEGER"}
          ]
        }
    }},
    { "dataset":{
      "auth":"service",
      "dataset":{"field":{ "name":"test_run_id", "kind":"string", "description":"The dataset to use for the test.", "prefix":"StarThinker_Test_DT_", "default": "Manual"}},
      "delete":true
    }}
  ]
}
